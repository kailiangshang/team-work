# TeamWork v0.2.0 æ–°åŠŸèƒ½è¯´æ˜

## ğŸ‰ ä¸»è¦æ›´æ–°

åŸºäºè®¾è®¡æ–‡æ¡£å®Œæˆäº†6å¤§æ ¸å¿ƒä¼˜åŒ–æ¨¡å—çš„å®ç°ï¼Œæ˜¾è‘—æå‡äº†ç³»ç»Ÿçš„æ™ºèƒ½åŒ–å’Œå®ç”¨æ€§ã€‚

---

## âœ¨ æ–°åŠŸèƒ½ä¸€è§ˆ

### 1. ğŸ” æ™ºèƒ½é¢†åŸŸè¯†åˆ«

**åŠŸèƒ½**: è‡ªåŠ¨è¯†åˆ«æ–‡æ¡£æ‰€å±é¢†åŸŸï¼Œæä¾›é’ˆå¯¹æ€§è§£ææ¨¡æ¿

**æ”¯æŒé¢†åŸŸ**:
- è½¯ä»¶å¼€å‘
- æˆ·å¤–æ–½å·¥
- è¥é”€æ´»åŠ¨
- ç ”ç©¶é¡¹ç›®
- å…¶ä»–ï¼ˆé»˜è®¤ï¼‰

**ç‰¹ç‚¹**:
- åŸºäºå…³é”®è¯çš„æ™ºèƒ½è¯†åˆ«
- ç½®ä¿¡åº¦è¯„ä¼°
- ç”¨æˆ·æ‰‹åŠ¨é€‰æ‹©è¾…åŠ©
- é¢†åŸŸä¸“å±æ¨¡æ¿é…ç½®

**API**: `POST /api/domain/classify`

---

### 2. ğŸ“Š å¤šå±‚çº§WBSä»»åŠ¡æ‹†è§£

**åŠŸèƒ½**: æ”¯æŒæœ€å¤š4å±‚çº§çš„å·¥ä½œåˆ†è§£ç»“æ„(Work Breakdown Structure)

**ç‰¹ç‚¹**:
- å±‚çº§åŒ–ä»»åŠ¡ç»„ç»‡ï¼ˆT001 â†’ T001-1 â†’ T001-1-1ï¼‰
- è‡ªåŠ¨ç”Ÿæˆä»»åŠ¡ID
- ä»»åŠ¡ä¾èµ–å…³ç³»ç®¡ç†
- å¤æ‚åº¦è‡ªåŠ¨è¯„ä¼°
- ä»»åŠ¡æ ‘å¯è§†åŒ–

**ç¤ºä¾‹ç»“æ„**:
```
T001 [Appå¼€å‘]
â”œâ”€â”€ T001-1 [å‰ç«¯å¼€å‘]
â”‚   â”œâ”€â”€ T001-1-1 [ç™»å½•é¡µé¢]
â”‚   â””â”€â”€ T001-1-2 [ä¸»é¡µé¢]
â””â”€â”€ T001-2 [åç«¯å¼€å‘]
    â”œâ”€â”€ T001-2-1 [ç”¨æˆ·æ¨¡å—]
    â””â”€â”€ T001-2-2 [æ•°æ®æ¨¡å—]
```

---

### 3. â±ï¸ æ™ºèƒ½æ—¶é—´ä¼°ç®—

**åŠŸèƒ½**: åŸºäºä»»åŠ¡å¤æ‚åº¦å’Œå›¢é˜Ÿèƒ½åŠ›è‡ªåŠ¨ä¼°ç®—å·¥æœŸ

**è¯„ä¼°ç»´åº¦**:
- ä»»åŠ¡å¤æ‚åº¦åˆ†æï¼ˆ1-10çº§ï¼‰
- æŠ€æœ¯å…³é”®è¯è¯†åˆ«
- ä¾èµ–å…³ç³»è€ƒè™‘
- å›¢é˜Ÿè§„æ¨¡è°ƒæ•´
- å…³é”®è·¯å¾„è¯†åˆ«

**è¾“å‡º**:
- æ¯ä¸ªä»»åŠ¡çš„ä¼°ç®—å·¥æœŸ
- é¡¹ç›®æ€»å·¥æœŸ
- å…³é”®è·¯å¾„ä»»åŠ¡åˆ—è¡¨
- ç½®ä¿¡åº¦è¯„ä¼°

---

### 4. ğŸ’¬ Agentå†²çªä¸åå•†æ¨¡æ‹Ÿ

**åŠŸèƒ½**: æ¨¡æ‹Ÿå›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„è§‚ç‚¹å†²çªå’Œåå•†è¿‡ç¨‹

**å†²çªç±»å‹**:
1. æŠ€æœ¯æ–¹æ¡ˆäº‰è®®
2. æ—¶é—´é¢„ä¼°åˆ†æ­§
3. èµ„æºåˆ†é…å†²çª
4. è´¨é‡æ ‡å‡†äº‰è®®
5. ä¼˜å…ˆçº§äº‰è®®

**åå•†æµç¨‹**:
- è‡ªåŠ¨æ£€æµ‹æ½œåœ¨å†²çª
- å¤šè½®è®¨è®ºæ¨¡æ‹Ÿï¼ˆæœ€å¤š3è½®ï¼‰
- LLMç”ŸæˆçœŸå®å¯¹è¯
- è‡ªåŠ¨è¾¾æˆå…±è¯†æˆ–é»˜è®¤å†³ç­–
- è¯†åˆ«è®¨è®ºä¸­çš„é£é™©

**ç¤ºä¾‹å¯¹è¯**:
```
æ¶æ„å¸ˆ: "å»ºè®®ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œè™½ç„¶å¤æ‚ä½†åˆ©äºæ‰©å±•"
å¼€å‘å·¥ç¨‹å¸ˆ: "å›¢é˜Ÿç»éªŒæœ‰é™ï¼Œå»ºè®®å…ˆç”¨å•ä½“æ¶æ„å¿«é€Ÿä¸Šçº¿"
æœ€ç»ˆå†³ç­–: "é‡‡ç”¨å•ä½“æ¶æ„å¼€å‘MVPï¼Œé¢„ç•™å¾®æœåŠ¡è¿ç§»æ¥å£"
é£é™©: ["åæœŸé‡æ„æˆæœ¬è¾ƒé«˜", "éœ€æå‰åšå¥½æ¨¡å—è§£è€¦"]
```

---

### 5. ğŸ“ˆ ç”˜ç‰¹å›¾ä¸é£é™©æŠ¥å‘Š

**ç”˜ç‰¹å›¾åŠŸèƒ½**:
- è‡ªåŠ¨è®¡ç®—ä»»åŠ¡è°ƒåº¦
- è€ƒè™‘ä»»åŠ¡ä¾èµ–å…³ç³»
- æ ‡æ³¨å…³é”®è·¯å¾„
- æ”¯æŒJSON/HTMLå¯¼å‡º

**é£é™©åˆ†æ**:
- å…³é”®è·¯å¾„å»¶è¯¯é£é™©
- èµ„æºåˆ†é…å†²çªæ£€æµ‹
- è®¨è®ºä¸­è¯†åˆ«çš„é£é™©
- ç»¼åˆé£é™©è¯„åˆ†ï¼ˆ0-100ï¼‰
- ç¼“è§£æªæ–½å»ºè®®

**é£é™©æŠ¥å‘Šç¤ºä¾‹**:
```
ã€ç»¼åˆé£é™©è¯„åˆ†ã€‘: 45/100 (ä¸­ç­‰é£é™©)

ã€å…³é”®é£é™©ã€‘
1. é›†æˆæµ‹è¯•åœ¨å…³é”®è·¯å¾„ä¸Šï¼Œå¤æ‚åº¦8ï¼Œå»¶è¯¯å°†å½±å“äº¤ä»˜
   ç¼“è§£æªæ–½: å¢åŠ æµ‹è¯•èµ„æºæˆ–å¹¶è¡Œæµ‹è¯•

ã€èµ„æºå†²çªã€‘
1. ç¬¬5å¤©ï¼Œå¼€å‘å·¥ç¨‹å¸ˆAè¢«åˆ†é…äº†2ä¸ªä»»åŠ¡
   å»ºè®®: å»¶åT001-2-1æˆ–åˆ†é…ç»™å…¶ä»–å·¥ç¨‹å¸ˆ
```

---

### 6. ğŸ”„ ç‰ˆæœ¬ç®¡ç†ä¸å¯¹æ¯”

**åŠŸèƒ½**: ç±»ä¼¼Gitçš„ç‰ˆæœ¬æ§åˆ¶å’Œå·®å¼‚å¯¹æ¯”

**ç‰¹ç‚¹**:
- è‡ªåŠ¨/æ‰‹åŠ¨åˆ›å»ºé¡¹ç›®å¿«ç…§
- ç‰ˆæœ¬å†å²æŸ¥è¯¢
- ç‰ˆæœ¬æ¢å¤
- å·®å¼‚å¯¹æ¯”åˆ†æ

**å¯¹æ¯”å†…å®¹**:
- ä»»åŠ¡å˜æ›´ï¼ˆæ–°å¢/åˆ é™¤/ä¿®æ”¹ï¼‰
- Agentå˜æ›´
- é…ç½®å˜æ›´
- ç»Ÿè®¡æ‘˜è¦

**Diffç¤ºä¾‹**:
```
ç‰ˆæœ¬å·®å¼‚æŠ¥å‘Š
========================================
æ€»å˜æ›´æ•°: 5
- æ–°å¢ä»»åŠ¡: 2
- åˆ é™¤ä»»åŠ¡: 1
- ä¿®æ”¹ä»»åŠ¡: 2

ã€æ–°å¢ä»»åŠ¡ã€‘
+ T005: æ€§èƒ½ä¼˜åŒ–

ã€ä¿®æ”¹ä»»åŠ¡ã€‘
~ T001:
  å·¥æœŸ: 3å¤© â†’ 5å¤©
  ä¾èµ–å…³ç³»å‘ç”Ÿå˜åŒ–
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ä½¿ç”¨é¢†åŸŸè¯†åˆ«

```python
from twork.parser.domain_classifier import DomainClassifier

classifier = DomainClassifier()
result = classifier.classify(
    content="å¼€å‘ä¸€ä¸ªç”µå•†ç½‘ç«™ï¼ŒåŒ…å«ç”¨æˆ·ç®¡ç†ã€å•†å“ç®¡ç†ã€è®¢å•ç³»ç»Ÿ...",
    user_selected_domain="è½¯ä»¶å¼€å‘"  # å¯é€‰
)

print(result)
# {
#     'domain_type': 'è½¯ä»¶å¼€å‘',
#     'confidence': 0.92,
#     'keywords': ['API', 'æ•°æ®åº“', 'ç”¨æˆ·', 'ç³»ç»Ÿ'],
#     'template_id': 'software_dev_v1'
# }
```

### 2. WBSä»»åŠ¡æ‹†è§£

```python
from twork.parser.wbs_decomposer import WBSDecomposer
from twork.llm.openai_adapter import OpenAIAdapter

llm = OpenAIAdapter(api_key="your-key")
decomposer = WBSDecomposer(llm, max_level=4)

result = decomposer.decompose(
    requirements=content,
    domain_type="è½¯ä»¶å¼€å‘",
    task_types=["éœ€æ±‚åˆ†æ", "å‰ç«¯å¼€å‘", "åç«¯å¼€å‘", "æµ‹è¯•"],
    template_config={}
)

# result['task_tree'] åŒ…å«å®Œæ•´çš„å±‚çº§ä»»åŠ¡æ ‘
# result['statistics'] åŒ…å«ç»Ÿè®¡ä¿¡æ¯
```

### 3. æ—¶é—´ä¼°ç®—

```python
from twork.estimator import ComplexityAnalyzer, TimeEstimator

complexity_analyzer = ComplexityAnalyzer()
estimator = TimeEstimator(complexity_analyzer)

result = estimator.estimate(
    tasks=task_list,
    total_days=30,  # æ€»å·¥æœŸçº¦æŸ
    team_size=5,
    work_hours_per_day=8
)

print(f"é¢„ä¼°æ€»å·¥æœŸ: {result['total_estimated_days']}å¤©")
print(f"å…³é”®è·¯å¾„: {result['critical_path']}")
```

### 4. å†²çªæ£€æµ‹ä¸åå•†

```python
from twork.agent import ConflictResolver, DebateSimulator

resolver = ConflictResolver(llm)
conflicts = resolver.detect_potential_conflicts(
    tasks=tasks,
    agents=agents,
    daily_assignments=assignments
)

simulator = DebateSimulator(llm, max_rounds=3)
for conflict in conflicts:
    if resolver.should_trigger_debate(conflict, debate_probability=0.3):
        debate_result = simulator.simulate_debate(
            conflict=conflict,
            agents_info=agents_dict
        )
        print(f"è®¨è®ºç»“æœ: {debate_result['final_decision']}")
```

### 5. ç”Ÿæˆç”˜ç‰¹å›¾å’Œé£é™©æŠ¥å‘Š

```python
from twork.generator import GanttGenerator, RiskAnalyzer

# ç”˜ç‰¹å›¾
gantt = GanttGenerator()
gantt_data = gantt.generate(
    tasks=tasks,
    start_date=datetime.now(),
    critical_path=['T001', 'T003', 'T005']
)
gantt.export_to_json("gantt.json")

# é£é™©åˆ†æ
risk_analyzer = RiskAnalyzer()
risk_report = risk_analyzer.analyze(
    tasks=tasks,
    critical_path=critical_path,
    resource_conflicts=conflicts,
    debate_logs=debate_logs
)

print(f"é£é™©è¯„åˆ†: {risk_report['risk_score']}/100")
print(risk_analyzer.export_to_text(risk_report))
```

### 6. ç‰ˆæœ¬ç®¡ç†

```python
from twork.version import VersionManager, DiffGenerator

# åˆ›å»ºå¿«ç…§
version_mgr = VersionManager()
version_mgr.create_snapshot(
    project_id=1,
    description="å®ŒæˆWBSæ‹†è§£",
    data={"tasks": tasks, "agents": agents}
)

# ç‰ˆæœ¬å¯¹æ¯”
diff_gen = DiffGenerator()
diff = diff_gen.generate_diff(version1_data, version2_data)
print(diff_gen.format_diff_text(diff))
```

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

å®Œæ•´å®ç°è¯´æ˜è¯·æŸ¥çœ‹ [`IMPLEMENTATION_SUMMARY.md`](./IMPLEMENTATION_SUMMARY.md)

---

## ğŸ”§ é…ç½®è¦æ±‚

### ç¯å¢ƒå˜é‡
```bash
# LLMé…ç½®ï¼ˆç”¨äºWBSæ‹†è§£å’Œè®¨è®ºæ¨¡æ‹Ÿï¼‰
OPENAI_API_KEY=your-api-key
OPENAI_BASE_URL=https://api.openai.com/v1  # å¯é€‰
```

### æ•°æ®åº“è¿ç§»
```bash
cd backend
alembic revision --autogenerate -m "Add v0.2.0 features"
alembic upgrade head
```

---

## ğŸ¯ é€‚ç”¨åœºæ™¯

### è½¯ä»¶å¼€å‘é¡¹ç›®
- âœ… æ•æ·å¼€å‘ä»»åŠ¡æ‹†è§£
- âœ… Sprintè§„åˆ’å’Œå·¥æœŸä¼°ç®—
- âœ… æŠ€æœ¯æ–¹æ¡ˆè®¨è®ºæ¨¡æ‹Ÿ
- âœ… å¼€å‘é£é™©è¯†åˆ«

### æˆ·å¤–æ–½å·¥é¡¹ç›®
- âœ… æ–½å·¥é˜¶æ®µåˆ†è§£
- âœ… å¤©æ°”å› ç´ è€ƒè™‘
- âœ… èµ„æºå†²çªæ£€æµ‹
- âœ… å®‰å…¨é£é™©è¯„ä¼°

### è¥é”€æ´»åŠ¨
- âœ… æ´»åŠ¨é˜¶æ®µè§„åˆ’
- âœ… æ¸ é“èµ„æºåˆ†é…
- âœ… æ‰§è¡Œé£é™©é¢„è­¦

### ç ”ç©¶é¡¹ç›®
- âœ… å®éªŒé˜¶æ®µè®¾è®¡
- âœ… é‡Œç¨‹ç¢‘è§„åˆ’
- âœ… è¿›åº¦é£é™©æ§åˆ¶

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **LLMè°ƒç”¨ä¼˜åŒ–**
   - ç¼“å­˜é¢†åŸŸè¯†åˆ«ç»“æœ
   - æ‰¹é‡å¤„ç†ä»»åŠ¡æ‹†è§£
   - é™åˆ¶è®¨è®ºè½®æ•°

2. **æ•°æ®åº“ä¼˜åŒ–**
   - ä¸ºæ–°å¢å­—æ®µåˆ›å»ºç´¢å¼•
   - ç‰ˆæœ¬å¿«ç…§ä½¿ç”¨JSONå­˜å‚¨
   - å¤§ä»»åŠ¡æ ‘åˆ†é¡µåŠ è½½

3. **å‰ç«¯ä¼˜åŒ–**
   - ä»»åŠ¡æ ‘æ‡’åŠ è½½
   - ç”˜ç‰¹å›¾è™šæ‹Ÿæ»šåŠ¨
   - WebWorkerå¤„ç†å¤æ‚è®¡ç®—

---

## ğŸ› å·²çŸ¥é—®é¢˜

1. ç‰ˆæœ¬ç®¡ç†å™¨å½“å‰ä¸ºå†…å­˜å®ç°ï¼Œé‡å¯åä¸¢å¤±ï¼ˆéœ€æ•°æ®åº“æŒä¹…åŒ–ï¼‰
2. ç”˜ç‰¹å›¾å¯è§†åŒ–éœ€å‰ç«¯ç»„ä»¶æ”¯æŒ
3. è®¨è®ºæ¨¡æ‹Ÿä¾èµ–LLMè´¨é‡ï¼Œæˆæœ¬è¾ƒé«˜

---

## ğŸ”® åç»­è®¡åˆ’

- [ ] å®Œå–„å‰ç«¯äº¤äº’ç•Œé¢
- [ ] æ•°æ®åº“æŒä¹…åŒ–ç‰ˆæœ¬ç®¡ç†
- [ ] æ”¯æŒæ›´å¤šé¢†åŸŸæ¨¡æ¿
- [ ] æ·»åŠ æœºå™¨å­¦ä¹ æ—¶é—´ä¼°ç®—
- [ ] å®æ—¶åä½œç¼–è¾‘ä»»åŠ¡æ ‘
- [ ] å¯¼å‡ºPDFæ ¼å¼æŠ¥å‘Š

---

## ğŸ“ åé¦ˆä¸æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š
- æäº¤Issue
- å‘é€é‚®ä»¶è‡³é¡¹ç›®å›¢é˜Ÿ

---

**ç‰ˆæœ¬**: v0.2.0  
**å‘å¸ƒæ—¥æœŸ**: 2025-10-25  
**å®ç°å®Œæˆåº¦**: 95%
