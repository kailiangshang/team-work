# TWork - AIå¤šè§’è‰²ä»»åŠ¡ååŒæ¨¡æ‹Ÿç³»ç»Ÿæ ¸å¿ƒåº“

[![Version](https://img.shields.io/badge/version-0.3.0-blue.svg)](https://github.com/yourusername/team-work)
[![Python](https://img.shields.io/badge/python-3.8+-green.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/license-MIT-orange.svg)](LICENSE)

TWork æ˜¯ä¸€ä¸ªåŸºäºå¤§æ¨¡å‹Agentçš„æ™ºèƒ½ä»»åŠ¡æ¨¡æ‹Ÿç³»ç»Ÿæ ¸å¿ƒæŠ€æœ¯æ¨¡å—ã€‚å®ƒèƒ½å¤Ÿå°†ä»»æ„ç±»å‹çš„éœ€æ±‚æ–‡æ¡£è‡ªåŠ¨æ‹†è§£ä¸ºç»“æ„åŒ–ä»»åŠ¡ï¼Œå¹¶é€šè¿‡å¤šè§’è‰²Agentæ¨¡æ‹ŸçœŸå®é¡¹ç›®æ‰§è¡Œè¿‡ç¨‹ï¼Œæä¾›å¤æ‚åº¦åˆ†æã€æ—¶é—´ä¼°ç®—ã€é£é™©é¢„æµ‹ç­‰å…¨æ–¹ä½çš„é¡¹ç›®ç®¡ç†æ”¯æŒã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ¤– **æ™ºèƒ½æ–‡æ¡£è§£æ**ï¼šè‡ªåŠ¨åŠ è½½å’Œè§£æå¤šç§æ ¼å¼éœ€æ±‚æ–‡æ¡£ï¼ˆPDFã€Wordã€Markdownï¼‰
- ğŸ“Š **WBSä»»åŠ¡æ‹†è§£**ï¼šåŸºäºé¢†åŸŸåˆ†ç±»çš„å·¥ä½œåˆ†è§£ç»“æ„ï¼ˆWBSï¼‰æ™ºèƒ½æ‹†è§£ **[æ–°å¢å¾ªç¯ä¾èµ–æ£€æµ‹]** ğŸ†•
- ğŸ‘¥ **å¤šè§’è‰²Agentæ¨¡æ‹Ÿ**ï¼šè‡ªåŠ¨ç”Ÿæˆè§’è‰²å¹¶æ¨¡æ‹ŸçœŸå®é¡¹ç›®æ‰§è¡Œè¿‡ç¨‹ **[å¢å¼ºæŠ€èƒ½åŒ¹é…]** ğŸ†•
- ğŸ”„ **æ™ºèƒ½ä»»åŠ¡åˆ†é…**ï¼šåŸºäºæŠ€èƒ½åŒ¹é…å’Œè´Ÿè½½å‡è¡¡çš„ä»»åŠ¡é‡æ–°åˆ†é… **[å…¨æ–°åŠŸèƒ½]** ğŸ†•
- ğŸ” **å¤æ‚åº¦åˆ†æ**ï¼šæ™ºèƒ½è¯„ä¼°ä»»åŠ¡å¤æ‚åº¦å’Œæ—¶é—´æˆæœ¬
- ğŸ“ˆ **ç”˜ç‰¹å›¾ç”Ÿæˆ**ï¼šè‡ªåŠ¨ç”Ÿæˆé¡¹ç›®è¿›åº¦ç”˜ç‰¹å›¾
- âš ï¸ **é£é™©åˆ†æ**ï¼šè¯†åˆ«æ½œåœ¨é£é™©å¹¶æä¾›ç¼“è§£ç­–ç•¥
- ğŸ”„ **ç‰ˆæœ¬ç®¡ç†**ï¼šé¡¹ç›®å¿«ç…§åˆ›å»ºä¸ç‰ˆæœ¬å·®å¼‚å¯¹æ¯”
- ğŸ“¦ **ç»“æœå¯è§†åŒ–**ï¼šç”ŸæˆPDFæŠ¥å‘Šã€CSVç¼–æ’æ–‡ä»¶å’Œå¯è§†åŒ–å›¾è°±

## ğŸ†• v0.3.0 æ–°å¢åŠŸèƒ½

### 1. WBS ä»»åŠ¡æ‹†è§£å¢å¼º
- âœ… **å¾ªç¯ä¾èµ–æ£€æµ‹**: `validate_dependencies()` æ–¹æ³•ï¼Œä½¿ç”¨ DFS ç®—æ³•æ£€æµ‹ä»»åŠ¡ä¾èµ–é—­ç¯
- âœ… **ä¾èµ–éªŒè¯**: è‡ªåŠ¨éªŒè¯ä¾èµ–ä»»åŠ¡æ˜¯å¦å­˜åœ¨
- âœ… **é”™è¯¯æŠ¥å‘Š**: è¯¦ç»†çš„ä¾èµ–é”™è¯¯ä¿¡æ¯

### 2. Agent è§’è‰²ç”Ÿæˆå¢å¼º
- âœ… **åŸºäºä»»åŠ¡æ ‘ç”Ÿæˆ**: `generate_roles()` æ–¹æ³•ï¼Œç›´æ¥ä»ä»»åŠ¡æ ‘ç”Ÿæˆ Agent
- âœ… **æŠ€èƒ½è‡ªåŠ¨æå–**: ä»ä»»åŠ¡çš„ `required_skills` å­—æ®µæå–æŠ€èƒ½éœ€æ±‚
- âœ… **å·¥å…·æ˜ å°„**: åŸºäºé¢†åŸŸè‡ªåŠ¨åŠ è½½é¢„è®¾å·¥å…·åº“
- âœ… **ä»»åŠ¡é‡æ–°åˆ†é…**: `reassign_tasks()` æ–¹æ³•ï¼Œå¤„ç† Agent åˆ é™¤åçš„ä»»åŠ¡é‡åˆ†é…
- âœ… **æ™ºèƒ½æ¨è**: `recommend_assignments()` æ–¹æ³•ï¼Œæ”¯æŒæŠ€èƒ½åŒ¹é…å’Œè´Ÿè½½å‡è¡¡ç­–ç•¥

### 3. æ•°æ®ç»“æ„å¢å¼º
- âœ… **Agent æŠ€èƒ½ç­‰çº§**: `{"skill_name": str, "proficiency_level": 1-5}`
- âœ… **ç»„ç»‡å±‚çº§**: `org_level` (1=EXECUTIVE, 2=MANAGER, 3=LEAD, 4=MEMBER)
- âœ… **æ²Ÿé€šé£æ ¼**: `communication_style` å­—æ®µ
- âœ… **ä»»åŠ¡æŠ€èƒ½éœ€æ±‚**: `required_skills` å­—æ®µ
- âœ… **ä»»åŠ¡å·¥å…·éœ€æ±‚**: `tools_needed` å­—æ®µ

## ğŸ“¦ å®‰è£…

### é€šè¿‡pipå®‰è£…ï¼ˆæ¨èï¼‰

```bash
pip install twork
```

### ä»æºç å®‰è£…

```bash
git clone https://github.com/yourusername/team-work.git
cd team-work
pip install -e .
```

### Dockerç¯å¢ƒä¸­ä½¿ç”¨

åœ¨Dockerå®¹å™¨ä¸­ï¼Œå»ºè®®é€šè¿‡PYTHONPATHç¯å¢ƒå˜é‡å¼•å…¥tworkï¼Œè€Œépipå®‰è£…ï¼š

```dockerfile
# Dockerfileç¤ºä¾‹
COPY twork /app/twork
ENV PYTHONPATH="/app:${PYTHONPATH}"
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### v0.3.0 æ–°ç‰ˆå¿«é€Ÿä½¿ç”¨ï¼ˆæ¨èï¼‰

```python
from twork.parser import DocumentLoader, RequirementExtractor, DomainClassifier, WBSDecomposer
from twork.agent import RoleGenerator
from twork.generator import GraphBuilder
from twork.llm import OpenAIAdapter
import json

# 1. åˆå§‹åŒ– LLM
llm = OpenAIAdapter(api_key="your-key")

# 2. åŠ è½½æ–‡æ¡£
loader = DocumentLoader()
doc_result = loader.load(file_path="/path/to/doc.pdf")

# 3. æå–éœ€æ±‚
extractor = RequirementExtractor(llm_adapter=llm)
requirements = extractor.extract(document_content=doc_result["content"])

# 4. é¢†åŸŸåˆ†ç±»
classifier = DomainClassifier()
domain_result = classifier.classify(
    content=requirements["project_description"],
    user_selected_domain=None  # å¯æ‰‹åŠ¨æŒ‡å®šé¢†åŸŸ
)

# 5. WBS ä»»åŠ¡æ‹†è§£
decomposer = WBSDecomposer(llm_adapter=llm, max_level=4)
wbs_result = decomposer.decompose(
    requirements=json.dumps(requirements),
    domain_type=domain_result["domain_type"],
    task_types=["éœ€æ±‚åˆ†æ", "å¼€å‘", "æµ‹è¯•"],
    template_config={},
    user_constraints={"total_days": 30, "team_size": 5}
)

task_tree = wbs_result["task_tree"]

# 6. éªŒè¯ä¾èµ–å…³ç³»ï¼ˆæ–°åŠŸèƒ½ï¼‰ğŸ†•
is_valid, errors = decomposer.validate_dependencies(task_tree)
if not is_valid:
    print("ä¾èµ–é”™è¯¯:", errors)

# 7. ç”Ÿæˆè§’è‰²ï¼ˆå¢å¼ºç‰ˆï¼‰ğŸ†•
generator = RoleGenerator(llm_adapter=llm)
agents = generator.generate_roles(
    task_tree=task_tree,
    domain_type=domain_result["domain_type"],
    team_size_hint=5
)

# 8. æ™ºèƒ½ä»»åŠ¡åˆ†é…æ¨èï¼ˆæ–°åŠŸèƒ½ï¼‰ğŸ†•
recommendations = generator.recommend_assignments(
    agents=agents,
    task_tree=task_tree,
    strategy="skill_match"  # æˆ– "workload_balance"
)

# 9. Agent åˆ é™¤åé‡æ–°åˆ†é…ï¼ˆæ–°åŠŸèƒ½ï¼‰ğŸ†•
# removed_agent = agents.pop(1)  # åˆ é™¤ Agent
# orphan_tasks = removed_agent.get("assigned_tasks", [])
# agents = generator.reassign_tasks(
#     agents=agents,
#     task_tree=task_tree,
#     orphan_tasks=orphan_tasks
# )

# 10. æ„å»ºå›¾è°±
builder = GraphBuilder()
flat_tasks = decomposer.flatten_tree(task_tree)
triplets = builder.build_triplets(tasks=flat_tasks, agents=agents)

# 11. å¯¼å‡ºç»“æœ
builder.export_triplets(triplets, "graph_triplets.json")
builder.export_mermaid(flat_tasks, agents, "graph.md")

print("å›¾è°±åˆå§‹åŒ–å®Œæˆ!")
```

### åŸºæœ¬ä½¿ç”¨

```python
import twork

# 1. åŠ è½½éœ€æ±‚æ–‡æ¡£
loader = twork.DocumentLoader()
document = loader.load("requirements.pdf")

# 2. æå–éœ€æ±‚
extractor = twork.RequirementExtractor(llm_config)
requirements = extractor.extract(document)

# 3. é¢†åŸŸåˆ†ç±»
classifier = twork.DomainClassifier(llm_config)
domain = classifier.classify(requirements)

# 4. WBSæ‹†è§£
wbs_decomposer = twork.WBSDecomposer(llm_config)
wbs_structure = wbs_decomposer.decompose(requirements, domain)

# 5. ä»»åŠ¡æ‹†è§£
decomposer = twork.TaskDecomposer(llm_config)
tasks = decomposer.decompose(wbs_structure)

# 6. ç”Ÿæˆæ‰§è¡Œè§’è‰²
role_gen = twork.RoleGenerator(llm_config)
roles = role_gen.generate(tasks)

# 7. è¿è¡Œå¤šAgentæ¨¡æ‹Ÿ
runner = twork.MultiAgentRunner(llm_config)
simulation_result = runner.run(tasks, roles)

# 8. ç”Ÿæˆç”˜ç‰¹å›¾
gantt_gen = twork.GanttGenerator()
gantt_gen.generate(tasks, "output/gantt.png")

# 9. é£é™©åˆ†æ
risk_analyzer = twork.RiskAnalyzer(llm_config)
risks = risk_analyzer.analyze(tasks, simulation_result)
```

### å®Œæ•´å·¥ä½œæµç¤ºä¾‹

```python
from twork import (
    DocumentLoader,
    RequirementExtractor,
    DomainClassifier,
    WBSDecomposer,
    TaskDecomposer,
    RoleGenerator,
    SimulationEngine,
    GanttGenerator,
    RiskAnalyzer,
    DocumentGenerator
)

# LLMé…ç½®
llm_config = {
    "api_key": "your-api-key",
    "base_url": "https://api.openai.com/v1",
    "model": "gpt-4"
}

# å®Œæ•´æµç¨‹
def process_project(requirements_file, output_dir):
    # æ–‡æ¡£åŠ è½½ä¸éœ€æ±‚æå–
    loader = DocumentLoader()
    doc = loader.load(requirements_file)
    
    extractor = RequirementExtractor(llm_config)
    requirements = extractor.extract(doc)
    
    # é¢†åŸŸåˆ†ç±»ä¸WBSæ‹†è§£
    classifier = DomainClassifier(llm_config)
    domain = classifier.classify(requirements)
    
    wbs = WBSDecomposer(llm_config)
    wbs_structure = wbs.decompose(requirements, domain)
    
    # ä»»åŠ¡æ‹†è§£
    decomposer = TaskDecomposer(llm_config)
    tasks = decomposer.decompose(wbs_structure)
    
    # Agentæ¨¡æ‹Ÿ
    engine = SimulationEngine(llm_config)
    simulation = engine.simulate(tasks)
    
    # ç”Ÿæˆç»“æœ
    gantt = GanttGenerator()
    gantt.generate(tasks, f"{output_dir}/gantt.png")
    
    risk = RiskAnalyzer(llm_config)
    risks = risk.analyze(tasks, simulation)
    
    doc_gen = DocumentGenerator()
    doc_gen.generate_report(tasks, simulation, risks, f"{output_dir}/report.pdf")
    
    return {
        "tasks": tasks,
        "simulation": simulation,
        "risks": risks
    }

# æ‰§è¡Œ
result = process_project("requirements.pdf", "output/project_1")
```

## ğŸ“š æ¨¡å—è¯´æ˜

### Parser - æ–‡æ¡£è§£ææ¨¡å—

è´Ÿè´£åŠ è½½ã€è§£æéœ€æ±‚æ–‡æ¡£ï¼Œæå–å…³é”®ä¿¡æ¯å¹¶æ‹†è§£ä¸ºç»“æ„åŒ–ä»»åŠ¡ã€‚

- **DocumentLoader**: æ”¯æŒPDFã€Wordã€Markdownç­‰æ ¼å¼æ–‡æ¡£åŠ è½½
- **RequirementExtractor**: æå–æ–‡æ¡£ä¸­çš„éœ€æ±‚ä¿¡æ¯
- **DomainClassifier**: è‡ªåŠ¨è¯†åˆ«é¡¹ç›®é¢†åŸŸç±»å‹
- **WBSDecomposer**: å·¥ä½œåˆ†è§£ç»“æ„ï¼ˆWBSï¼‰æ™ºèƒ½æ‹†è§£ **[å¢å¼º]** ğŸ†•
- **TaskDecomposer**: å°†éœ€æ±‚æ‹†è§£ä¸ºå¯æ‰§è¡Œçš„ç»“æ„åŒ–ä»»åŠ¡
- **ContextTemplateManager**: ç®¡ç†ä¸åŒé¢†åŸŸçš„ä¸Šä¸‹æ–‡æ¨¡æ¿

```python
from twork.parser import DocumentLoader, RequirementExtractor, DomainClassifier, WBSDecomposer

# æ–‡æ¡£åŠ è½½
loader = DocumentLoader()
doc = loader.load("requirements.pdf")
# è¿”å›: {"content": str, "file_name": str, "file_type": str, "file_size": int}

# éœ€æ±‚æå–
extractor = RequirementExtractor(llm_adapter=llm)
requirements = extractor.extract(doc["content"])
# è¿”å›: {project_name, project_description, main_objectives, key_requirements, constraints, expected_deliverables}

# é¢†åŸŸåˆ†ç±»
classifier = DomainClassifier()
domain_result = classifier.classify(
    content=requirements["project_description"],
    user_selected_domain=None  # å¯æ‰‹åŠ¨æŒ‡å®š: "è½¯ä»¶å¼€å‘"
)
# è¿”å›: {domain_type, confidence, keywords, template_id, all_scores}

# WBS ä»»åŠ¡æ‹†è§£ï¼ˆå¢å¼ºç‰ˆï¼‰ğŸ†•
decomposer = WBSDecomposer(llm_adapter=llm, max_level=4)
wbs_result = decomposer.decompose(
    requirements=json.dumps(requirements),
    domain_type=domain_result["domain_type"],
    task_types=["éœ€æ±‚åˆ†æ", "å¼€å‘", "æµ‹è¯•"],
    template_config={},
    user_constraints={"total_days": 30, "team_size": 5}
)
# è¿”å›: {"task_tree": List[Dict], "statistics": Dict}

# éªŒè¯ä¾èµ–å…³ç³»ï¼ˆæ–°åŠŸèƒ½ï¼‰ğŸ†•
is_valid, errors = decomposer.validate_dependencies(wbs_result["task_tree"])
if not is_valid:
    print("ä¾èµ–é”™è¯¯:", errors)
    # ç¤ºä¾‹: ["æ£€æµ‹åˆ°å¾ªç¯ä¾èµ–: T001 -> T002 -> T001"]

# å±•å¹³ä»»åŠ¡æ ‘
flat_tasks = decomposer.flatten_tree(wbs_result["task_tree"])
# è¿”å›: List[Dict]  # æ‰€æœ‰ä»»åŠ¡çš„æ‰å¹³åˆ—è¡¨

# æŸ¥æ‰¾ä»»åŠ¡
task = decomposer.get_task_by_id(wbs_result["task_tree"], "T001-1")
```

**ä»»åŠ¡æ ‘æ•°æ®ç»“æ„**:
```python
[
    {
        "task_id": "T001",
        "task_name": "éœ€æ±‚åˆ†æé˜¶æ®µ",
        "description": "å®Œæˆé¡¹ç›®éœ€æ±‚è°ƒç ”å’Œåˆ†æ",
        "level": 1,
        "parent_task_id": null,
        "task_type": "éœ€æ±‚åˆ†æ",
        "estimated_complexity": 5,
        "dependencies": [],
        "required_skills": [  # æ–°: æŠ€èƒ½éœ€æ±‚
            {"skill_name": "éœ€æ±‚åˆ†æ", "proficiency_level": 3}
        ],
        "tools_needed": ["Axure", "JIRA"],  # æ–°: å·¥å…·éœ€æ±‚
        "children": [...]
    }
]
```

### Agent - æ™ºèƒ½Agentæ¨¡å—

è´Ÿè´£è§’è‰²Agentç”Ÿæˆã€å¤šAgentååŒå’Œä»»åŠ¡æ¨¡æ‹Ÿæ‰§è¡Œã€‚

- **RoleGenerator**: æ ¹æ®ä»»åŠ¡è‡ªåŠ¨ç”Ÿæˆåˆé€‚çš„æ‰§è¡Œè§’è‰² **[å¢å¼º]** ğŸ†•
- **MultiAgentRunner**: å¤šAgentååŒæ‰§è¡Œæ¡†æ¶
- **SimulationEngine**: ä»»åŠ¡æ‰§è¡Œæ¨¡æ‹Ÿå¼•æ“
- **ConflictResolver**: å†²çªè¯†åˆ«ä¸è§£å†³
- **DebateSimulator**: è®¨è®ºåœºæ™¯æ¨¡æ‹Ÿ

```python
from twork.agent import RoleGenerator

# åŸºäºä»»åŠ¡æ ‘ç”Ÿæˆ Agentï¼ˆæ–°æ–¹æ³•ï¼‰ğŸ†•
generator = RoleGenerator(llm_adapter=llm)
agents = generator.generate_roles(
    task_tree=task_tree,
    domain_type="è½¯ä»¶å¼€å‘",
    team_size_hint=5
)

# æ™ºèƒ½ä»»åŠ¡åˆ†é…æ¨èï¼ˆæ–°ï¼‰ğŸ†•
recommendations = generator.recommend_assignments(
    agents=agents,
    task_tree=task_tree,
    strategy="skill_match"  # æŠ€èƒ½åŒ¹é…ç­–ç•¥
    # strategy="workload_balance"  # è´Ÿè½½å‡è¡¡ç­–ç•¥
)
# è¿”å›: {"T001-1": "A003", "T001-2": "A001", ...}

# ä»»åŠ¡é‡æ–°åˆ†é…ï¼ˆæ–°ï¼‰ğŸ†•
# å½“åˆ é™¤ Agent æ—¶ï¼Œé‡æ–°åˆ†é…å…¶ä»»åŠ¡
agents = generator.reassign_tasks(
    agents=agents,
    task_tree=task_tree,
    orphan_tasks=["T002-1", "T002-2"]  # éœ€è¦é‡æ–°åˆ†é…çš„ä»»åŠ¡
)

# æ¨¡æ‹Ÿå¼•æ“ï¼ˆåŸæœ‰åŠŸèƒ½ï¼‰
from twork.agent import SimulationEngine

engine = SimulationEngine(llm_adapter=llm)
simulation = engine.simulate(
    agents=agents,
    tasks=tasks,
    total_days=30,
    enable_env_agent=True,  # å¯ç”¨ç¯å¢ƒäº‹ä»¶
    env_event_probability=0.2
)
```

**Agent é…ç½®ç»“æ„ï¼ˆå¢å¼ºç‰ˆï¼‰**:
```python
{
    "agent_id": "A001",
    "role_name": "åç«¯å·¥ç¨‹å¸ˆ",
    "role_type": "å¼€å‘",
    "capabilities": [  # æ–°: æŠ€èƒ½ç­‰çº§
        {"skill_name": "Python", "proficiency_level": 5},
        {"skill_name": "FastAPI", "proficiency_level": 4}
    ],
    "available_hours_per_day": 8.0,
    "fatigue_threshold": 8.0,
    "personality": "ä¸“ä¸šã€æ³¨é‡ç»†èŠ‚",
    "assigned_tasks": [],
    "org_level": 3,  # æ–°: ç»„ç»‡å±‚çº§ (1=EXECUTIVE, 2=MANAGER, 3=LEAD, 4=MEMBER)
    "communication_style": "direct",  # æ–°: æ²Ÿé€šé£æ ¼
    "tools": ["VS Code", "Docker"]  # æ–°: å·¥å…·
}
```

### Estimator - å¤æ‚åº¦åˆ†æä¸ä¼°ç®—æ¨¡å—

ä¸»è¦åŠŸèƒ½ï¼šä»»åŠ¡å¤æ‚åº¦åˆ†æã€å·¥æœŸæ—¶é—´ä¼°ç®—ã€å…³é”®è·¯å¾„è¯†åˆ«ã€‚

- **ComplexityAnalyzer**: åˆ†æä»»åŠ¡å¤æ‚åº¦
- **TimeEstimator**: ä¼°ç®—ä»»åŠ¡æ‰§è¡Œæ—¶é—´

```python
from twork import ComplexityAnalyzer, TimeEstimator

analyzer = ComplexityAnalyzer(llm_config)
complexity = analyzer.analyze(tasks)

estimator = TimeEstimator(llm_config)
time_estimate = estimator.estimate(tasks)
```

### Generator - ç»“æœç”Ÿæˆæ¨¡å—

è´Ÿè´£ç”ŸæˆPDF/Markdownæ–‡æ¡£ã€CSVç¼–æ’æ–‡ä»¶å’Œä»»åŠ¡å›¾è°±ã€‚

- **DocumentGenerator**: ç”Ÿæˆé¡¹ç›®æŠ¥å‘Šï¼ˆPDF/Markdownï¼‰
- **CSVExporter**: å¯¼å‡ºä»»åŠ¡ç¼–æ’CSVæ–‡ä»¶
- **GraphBuilder**: æ„å»ºä»»åŠ¡ä¾èµ–å›¾è°±
- **GanttGenerator**: ç”Ÿæˆç”˜ç‰¹å›¾
- **RiskAnalyzer**: é¡¹ç›®é£é™©åˆ†æ

```python
from twork import GanttGenerator, RiskAnalyzer, DocumentGenerator

# ç”˜ç‰¹å›¾ç”Ÿæˆ
gantt = GanttGenerator()
gantt.generate(tasks, "output/gantt.png")

# é£é™©åˆ†æ
risk = RiskAnalyzer(llm_config)
risks = risk.analyze(tasks, simulation)

# æ–‡æ¡£ç”Ÿæˆ
doc_gen = DocumentGenerator()
doc_gen.generate_report(tasks, simulation, risks, "output/report.pdf")
```

### Version - ç‰ˆæœ¬ç®¡ç†æ¨¡å—

ä¸»è¦åŠŸèƒ½ï¼šé¡¹ç›®å¿«ç…§åˆ›å»ºã€ç‰ˆæœ¬å†å²ç®¡ç†ã€ç‰ˆæœ¬å·®å¼‚å¯¹æ¯”ã€å˜æ›´è¿½è¸ªã€‚

- **VersionManager**: ç®¡ç†é¡¹ç›®ç‰ˆæœ¬å¿«ç…§
- **DiffGenerator**: ç”Ÿæˆç‰ˆæœ¬å·®å¼‚æŠ¥å‘Š

```python
from twork import VersionManager, DiffGenerator

# åˆ›å»ºç‰ˆæœ¬å¿«ç…§
vm = VersionManager()
vm.create_snapshot(project_id, tasks, "v1.0.0")

# å¯¹æ¯”ç‰ˆæœ¬å·®å¼‚
diff_gen = DiffGenerator()
diff = diff_gen.compare("v1.0.0", "v1.1.0")
```

### LLM - å¤§æ¨¡å‹é€‚é…å±‚

æä¾›ç»Ÿä¸€çš„å¤§æ¨¡å‹æ¥å£ï¼Œæ”¯æŒOpenAIæ ¼å¼çš„APIè°ƒç”¨ã€‚

- **LLMAdapter**: æŠ½è±¡åŸºç±»
- **OpenAIAdapter**: OpenAI APIé€‚é…å™¨

```python
from twork import OpenAIAdapter

llm = OpenAIAdapter(
    api_key="your-api-key",
    base_url="https://api.openai.com/v1",
    model="gpt-4"
)

response = llm.chat([
    {"role": "user", "content": "åˆ†æè¿™ä¸ªä»»åŠ¡çš„å¤æ‚åº¦"}
])
```

### Utils - å·¥å…·å‡½æ•°æ¨¡å—

æä¾›æ—¥å¿—ç®¡ç†ã€æ–‡ä»¶å¤„ç†ç­‰é€šç”¨å·¥å…·å‡½æ•°ã€‚

- **setup_logger / get_logger**: æ—¥å¿—ç®¡ç†
- **FilePermissionHandler**: æ–‡ä»¶æƒé™å¤„ç†ï¼ˆDockerç¯å¢ƒå‹å¥½ï¼‰

```python
from twork.utils import get_logger, FilePermissionHandler

# æ—¥å¿—
logger = get_logger(__name__)
logger.info("å¼€å§‹å¤„ç†ä»»åŠ¡")

# æ–‡ä»¶å¤„ç†
handler = FilePermissionHandler()
handler.ensure_writable("output/results.json")
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
twork/
â”œâ”€â”€ parser/          # æ–‡æ¡£è§£æä¸ä»»åŠ¡æ‹†è§£
â”œâ”€â”€ agent/           # å¤šAgentååŒä¸æ¨¡æ‹Ÿ
â”œâ”€â”€ estimator/       # å¤æ‚åº¦åˆ†æä¸æ—¶é—´ä¼°ç®—
â”œâ”€â”€ generator/       # ç»“æœç”Ÿæˆä¸å¯è§†åŒ–
â”œâ”€â”€ version/         # ç‰ˆæœ¬ç®¡ç†ä¸å·®å¼‚å¯¹æ¯”
â”œâ”€â”€ llm/             # å¤§æ¨¡å‹é€‚é…å±‚
â””â”€â”€ utils/           # é€šç”¨å·¥å…·å‡½æ•°
```

### è®¾è®¡åŸåˆ™

1. **æ¨¡å—åŒ–è®¾è®¡**ï¼šå„æ¨¡å—èŒè´£æ¸…æ™°ï¼Œä½è€¦åˆé«˜å†…èš
2. **ç»Ÿä¸€æ¥å£**ï¼šé€šè¿‡LLMé€‚é…å±‚ç»Ÿä¸€å¤§æ¨¡å‹è°ƒç”¨æ¥å£
3. **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒè‡ªå®šä¹‰é¢†åŸŸæ¨¡æ¿å’Œè§’è‰²é…ç½®
4. **å®¹å™¨å‹å¥½**ï¼šé€šè¿‡PYTHONPATHå¼•å…¥ï¼Œé¿å…é‡å¤å®‰è£…
5. **æ–‡ä»¶å¤„ç†ç»Ÿä¸€**ï¼šä½¿ç”¨utils/file_handlerç»Ÿä¸€ç®¡ç†æ–‡ä»¶æ“ä½œ

## ğŸ”§ é…ç½®è¯´æ˜

### LLMé…ç½®

```python
llm_config = {
    "api_key": "your-api-key",           # APIå¯†é’¥
    "base_url": "https://api.openai.com/v1",  # APIåœ°å€
    "model": "gpt-4",                     # æ¨¡å‹åç§°
    "temperature": 0.7,                   # æ¸©åº¦å‚æ•°ï¼ˆå¯é€‰ï¼‰
    "max_tokens": 4000,                   # æœ€å¤§tokenæ•°ï¼ˆå¯é€‰ï¼‰
}
```

### ç¯å¢ƒå˜é‡

```bash
# .env æ–‡ä»¶
OPENAI_API_KEY=your-api-key
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4
```

## ğŸ“– é«˜çº§ç”¨æ³•

### è‡ªå®šä¹‰é¢†åŸŸæ¨¡æ¿

```python
from twork import ContextTemplateManager

template_manager = ContextTemplateManager()
template_manager.add_template(
    domain="custom_domain",
    template={
        "wbs_levels": ["é˜¶æ®µ", "æ¨¡å—", "ä»»åŠ¡"],
        "role_types": ["æ¶æ„å¸ˆ", "å¼€å‘å·¥ç¨‹å¸ˆ", "æµ‹è¯•å·¥ç¨‹å¸ˆ"],
        # ... å…¶ä»–é…ç½®
    }
)
```

### å†²çªè§£å†³è‡ªå®šä¹‰ç­–ç•¥

```python
from twork import ConflictResolver

resolver = ConflictResolver(llm_config)
conflicts = resolver.detect(simulation_logs)
resolutions = resolver.resolve(conflicts, strategy="voting")  # æŠ•ç¥¨ç­–ç•¥
```

### æ‰¹é‡é¡¹ç›®å¤„ç†

```python
from twork import DocumentLoader, TaskDecomposer

def batch_process(project_files):
    results = {}
    for project_file in project_files:
        loader = DocumentLoader()
        doc = loader.load(project_file)
        # ... å¤„ç†é€»è¾‘
        results[project_file] = processed_data
    return results
```

## ğŸ³ Dockeré›†æˆ

åœ¨Dockerç¯å¢ƒä¸­ä½¿ç”¨tworkæ—¶ï¼Œæ¨èé€šè¿‡PYTHONPATHå¼•å…¥ï¼š

```dockerfile
FROM python:3.10-slim

WORKDIR /app

# å¤åˆ¶tworkæ ¸å¿ƒåº“
COPY twork /app/twork

# è®¾ç½®Pythonè·¯å¾„
ENV PYTHONPATH="/app:${PYTHONPATH}"

# å®‰è£…ä¾èµ–
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# åº”ç”¨ä»£ç 
COPY . .

CMD ["python", "main.py"]
```

**æ³¨æ„**ï¼šä¿®æ”¹tworkæ ¸å¿ƒåº“ä»£ç åï¼Œéœ€è¦é‡æ–°æ„å»ºDockeré•œåƒï¼š

```bash
docker-compose build backend
docker-compose up -d
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“ å¼€å‘è§„èŒƒ

- ä»£ç é£æ ¼ï¼šéµå¾ªPEP 8è§„èŒƒ
- æ–‡æ¡£ï¼šæ‰€æœ‰å…¬å…±APIå¿…é¡»åŒ…å«docstring
- æµ‹è¯•ï¼šæ–°åŠŸèƒ½éœ€è¦é…å¥—å•å…ƒæµ‹è¯•
- æ—¥å¿—ï¼šä½¿ç”¨loguruç»Ÿä¸€æ—¥å¿—ç®¡ç†

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](../LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

## ğŸ“ è”ç³»æˆ‘ä»¬

- é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/kailiangshang/team-work
- é—®é¢˜åé¦ˆï¼šhttps://github.com/kailiangshang/team-work/issues
- é‚®ç®±ï¼šshangkl@enn.cn

---

**ç‰ˆæœ¬**: 0.3.0  
**æœ€åæ›´æ–°**: 2025-10-26

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.3.0 (2025-10-26)

**æ–°å¢åŠŸèƒ½**:
- âœ… WBSDecomposer: æ–°å¢ `validate_dependencies()` æ–¹æ³•ï¼Œæ”¯æŒå¾ªç¯ä¾èµ–æ£€æµ‹
- âœ… RoleGenerator: æ–°å¢ `generate_roles()` æ–¹æ³•ï¼ŒåŸºäºä»»åŠ¡æ ‘ç”Ÿæˆ Agent
- âœ… RoleGenerator: æ–°å¢ `reassign_tasks()` æ–¹æ³•ï¼Œæ”¯æŒä»»åŠ¡é‡æ–°åˆ†é…
- âœ… RoleGenerator: æ–°å¢ `recommend_assignments()` æ–¹æ³•ï¼Œæ”¯æŒæŠ€èƒ½åŒ¹é…å’Œè´Ÿè½½å‡è¡¡ç­–ç•¥
- âœ… æŠ€èƒ½è‡ªåŠ¨æå–ä¸æ˜ å°„åŠŸèƒ½
- âœ… å·¥å…·éœ€æ±‚è‡ªåŠ¨æå–(åŸºäºé¢†åŸŸ)

**æ•°æ®ç»“æ„å¢å¼º**:
- âœ… Agent é…ç½®æ”¯æŒæŠ€èƒ½ç­‰çº§: `{"skill_name": str, "proficiency_level": 1-5}`
- âœ… Agent é…ç½®æ”¯æŒç»„ç»‡å±‚çº§: `org_level`
- âœ… Agent é…ç½®æ”¯æŒæ²Ÿé€šé£æ ¼: `communication_style`
- âœ… ä»»åŠ¡æ”¯æŒæŠ€èƒ½éœ€æ±‚: `required_skills`
- âœ… ä»»åŠ¡æ”¯æŒå·¥å…·éœ€æ±‚: `tools_needed`

**æ–‡æ¡£ä¸ç¤ºä¾‹**:
- âœ… æ–°å¢ `/examples/graph_init_demo.py` - å›¾è°±åˆå§‹åŒ–æµç¨‹å®Œæ•´ç¤ºä¾‹
- âœ… æ–°å¢ `/docs/IMPLEMENTATION_SUMMARY_GRAPH_INIT.md` - å®æ–½æ‘˜è¦æ–‡æ¡£
- âœ… æ›´æ–° README æ–‡æ¡£ï¼Œæ–°å¢ v0.3.0 åŠŸèƒ½ä»‹ç»

### v0.2.0
- åŸºç¡€åŠŸèƒ½å®ç°
- æ–‡æ¡£è§£æã€éœ€æ±‚æå–ã€WBS æ‹†è§£
- Agent ç”Ÿæˆã€æ¨¡æ‹Ÿå¼•æ“
- å›¾è°±æ„å»ºã€ç”˜ç‰¹å›¾ç”Ÿæˆ
